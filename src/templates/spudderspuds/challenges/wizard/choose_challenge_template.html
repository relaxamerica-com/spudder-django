{% extends 'spudderspuds/challenges/wizard/wizard_base.html' %}
{% load bootstrap3 %}

{% block info %}
    <h3>Choose a Challenge Template</h3>
    <p>You can choose existing template or create a new one</p>

{% endblock %}

{% block form_content %}

    <hr />
    <table class="table table-striped {% if templates %} datatable {% endif %}">
        <thead>
            <tr>
                <th>Logo</th>
                <th>Name</th>
                <th class="no-sort">Select</th>
            </tr>
        </thead>
        <tbody>
            {% for template in templates %}
                <tr>
                    <td>
                        {% if template.image %}
                            <img src="/file/serve/{{ template.image.pk }}" width="56" height="52" />
                        {% else %}
                            <i class="fa fa-group fa-2x"> </i>
                        {% endif %}
                    </td>
                    <td>
                        {{ template.name|safe }}
                    </td>
                    <td class="actions" style="white-space: nowrap">
                        <input type="checkbox" class="template-id" name="{{ step0 }}-{{ form.template_id.name }}" value="{{ template.pk }}"/>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="3">
                        <div class="alert alert-warning">
                            <p>There are no templates to show.</p>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}

{% block js %}
    {{ block.super }}
    <script type="text/javascript">
        $(function(){
            $('input.template-id').change(function(){
                $('input.template-id').not($(this)).removeAttr('checked');
            })
        });
    </script>
{% endblock %}