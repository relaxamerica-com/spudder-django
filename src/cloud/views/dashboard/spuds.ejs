<% include ../dashboard/parts/head %>

<link href="/media/dashboard/css/isotope.css" rel="stylesheet" type="text/css" />

<% include ../dashboard/parts/bodyStart %>

<div id="spuds" class="">
	<div class="row-fluid">
		<div class="span12">
			<div class="tabbable">
				<ul id="myTab" class="nav nav-tabs">
					<li class="active">
						<a href="#" data-toggle="tab" id="showAll">
							All
						</a>
					</li>
	
					<li>
						<a href="#" data-toggle="tab" id="showText">
							Text
						</a>
					</li>
					
					<li>
						<a href="#" data-toggle="tab" id="showImages">
							Images
						</a>
					</li>
					
					<li>
						<a href="#" data-toggle="tab" id="showVideos">
							Videos
						</a>
					</li>
				</ul>
				<div id="social-container"></div>
				
				<div class="row-fluid">
					<div class="span12">
						<div class="btn btn-orange" id="load-more">
							<i class="icon-spinner icon-spin"></i>Loading content
						</div>
					</div>
				</div>
				
				<div class="tab-content hidden" id="all">
					<% spuds.items.forEach(function(spud) { %>
						<%- spudContainer(spud, false, getValueOrEmpty, user) %>
					<% }) %>
				</div>
			</div>
		</div>
	</div>
</div>

<% include ../dashboard/parts/scripts %>

	<script src="/media/dashboard/js/tab-control.js"></script>
	<script src="/media/dashboard/js/jquery.isotope.min.js"></script>
	<script type="text/javascript">
		var all = $('#all'),
    		container = $('#social-container');
    		
	    $(window).load(function() {
	      /*
	      # init isotope, then insert all items from hidden alpha
	      */
	
			container.isotope({
				itemSelector: '.item'
			}).isotope('insert', all.find('.item'));
			
			return $("#load-more").html("Load more").find("i").hide();
	    });
	    
	    $(document).ready(function() {
	    	$('#showAll').click(function() {
	    		container.isotope({ filter: '.item' });
	    	});
	    	
	    	$('#showText').click(function() {
	    		container.isotope({ filter: '.status, .text' });
	    	});
	    	
	    	$('#showImages').click(function() {
	    		container.isotope({ filter: '.image' });
	    	});
	    	
	    	$('#showVideos').click(function() {
	    		container.isotope({ filter: '.video' });
	    	});
	    });
	    
	    // $('#load-more').click(function() {
	      // var item1, item2, item3, items, tmp;
	      // items = $container2.find('.social-entry');
	      // item1 = $(items[Math.floor(Math.random() * items.length)]).clone();
	      // item2 = $(items[Math.floor(Math.random() * items.length)]).clone();
	      // item3 = $(items[Math.floor(Math.random() * items.length)]).clone();
	      // tmp = $().add(item1).add(item2).add(item3);
	      // return $container2.isotope('insert', tmp);
	    // });
	</script>
	
<% include ../dashboard/parts/foot %>