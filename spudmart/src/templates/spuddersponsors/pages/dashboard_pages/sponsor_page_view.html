{% extends 'components/sharedpages/public_page_base.html' %}

{% load sponsors %}

{% block css %}
    <link rel="stylesheet" href="/static/css/spuddersponsors.css" />
{% endblock %}

{% block google_analytics_additions %}
    ga('set', 'contentGroup1', 'SPONSORS - SPONSOR PAGE VIEW');
{% endblock %}

{% block title %}{{ page.name }} | Spudder - Sports Updates Made Simple{% endblock %}

{% block meta %}
    {{ block.super }}
    <meta property="og:title" content="{{ page.name }} | Spudder - Sports Updates Made Simple">
    <meta property="og:description" content="Check out this awesome sponsor: {{ page.name }}! Here is a business that gives back to the community. Let's all click here and support them!">
    {% if page.thumbnail %}
        <meta property="og:image" content="http://{{ request.META.HTTP_HOST }}/file/serve/{{ page.thumbnail }}">
    {% endif %}
{% endblock %}

{% block favicon %}"/media/ico/favicon.png"{% endblock %}

{% block nav_brand %}<a href="/"><img src="/static/img/spuddersponsors/logo-sponsors-small.png" style="height:35px;margin-top:2px;"/></a>{% endblock %}

{% block cover_image_container_id %}jumbo-map-container{% endblock %}

{% block cover_title_profile_image_url %}{% if page.thumbnail %}/file/serve/{{ page.thumbnail }}{% else %}/static/img/spuddersponsors/button-sponsors-medium.png{% endif %}{% endblock %}

{% block cover_title_display_name %}{{ page.name }}{% endblock %}

{% block main_page %}
    <div style="min-height: 362px; margin: 0 auto; width: 100%; vertical-align: middle; text-align: center; padding:15px;">
        <div class="row-fluid" style="height:100%;">
            <div class="col-md-12 contents" style="height:100%;">
                <div id="sponsor-page-carousel" class="carousel slide" data-ride="carousel">
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                        {% if page.images|length > 0 %}
                            {% for image in page.images %}
                                <div class="item {% if forloop.counter0 == 0 %}active{% endif %}">
                                    <img src="/file/serve/{{ image }}" />
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="item active">
                                <img src="/static/img/spudderspuds/button-spuds-large.png" height="300px"/>
                                <div class="carousel-caption">
                                    <div class="alert alert-info">
                                        <h4>No images yet</h4>
                                        <p>Stay tuned, there will soon be images for this sponsor!</p>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    <!-- Controls -->
                    <a class="left carousel-control" href="#sponsor-page-carousel" role="button" data-slide="prev">
                        <span class="icon-prev"></span>
                    </a>
                    <a class="right carousel-control" href="#sponsor-page-carousel" role="button" data-slide="next">
                        <span class="icon-next"></span>
                    </a>
                </div>
            </div>
        </div>

        <div class="row-fluid" style="height:100%;">
            <div class="col-md-12 contents" style="height:100%;">
                <p class="sponsor-description">{{ page.description }}</p>
            </div>
        </div>
    </div>
{% endblock main_page %}

{% block sidebar %}
    <div id="details-container">
        <h3>
            Support Your Sponsor
        </h3>

        <ul class="social-network">
            {% if page.instagram %}
                <li>
                    <a href="{{ page.instagram }}" target="_blank" data-placement="bottom" title=""
                    data-original-title="Sponsor Instagram profile"> <i class="fa fa-instagram fa-2x"> </i> </a>
                </li>
            {% endif %}

            {% if page.facebook %}
                <li>
                    <a href="{{ page.facebook }}" target="_blank" data-placement="bottom" title=""
                    data-original-title="Sponsor Facebook profile"> <i class="fa fa-facebook-square fa-2x"> </i> </a>
                </li>
            {% endif %}

            {% if page.twitter %}
                <li>
                    <a href="{{ page.twitter }}" target="_blank" data-placement="bottom" title=""
                    data-original-title="Sponsor Twitter profile"> <i class="fa fa-twitter-square fa-2x"> </i> </a>
                </li>
            {% endif %}

            {% if page.google_plus %}
                <li>
                    <a href="{{ page.google_plus }}" target="_blank" rel="publisher" data-placement="bottom" title=""
                    data-original-title="Sponsor Google+ profile"> <i class="fa fa-google-plus-square fa-2x"> </i> </a>
                </li>
            {% endif %}

            {% if page.linkedin %}
                <li>
                    <a href="{{ page.linked_in }}" target="_blank" rel="publisher" data-placement="bottom" title=""
                    data-original-title="Sponsor LinkedIn profile"> <i class="fa fa-linkedin-square fa-2x"> </i> </a>
                </li>
            {% endif %}
        </ul>

        <ul class="sponsor-details">
            {% if page.speciality %}
                <li>
                    <label>Speciality: </label> {{ page.speciality }}
                </li>
            {% endif %}

            {% if page.location %}
                <li>
                    <label>Location: </label>
                    <a href="{{ page.map_info|location_external_link }}" target="_blank">
                        {{ page.location }}
                    </a>
                </li>
            {% endif %}

            {% if page.phone %}
                <li>
                    <label>Phone: </label> {{ page.phone }}
                </li>
            {% endif %}

            {% if page.email %}
                <li>
                    <label>E-mail: </label> <a href="mailto:{{ page.email }}">{{ page.email }}</a>
                </li>
            {% endif %}

            {% if page.website %}
                <li>
                    <label>Website: </label> <a href="{{ page.website }}">{{ page.website }}</a>
                </li>
            {% endif %}

            {% if page.video %}
                <li>
                    <label>Video: </label> <a href="{{ page.video }}">Sponsor video</a>
                </li>
            {% endif %}

            {% if page.fax %}
                <li>
                    <label>Fax: </label> {{ page.fax }}
                </li>
            {% endif %}
        </ul>
    </div>
{% endblock sidebar %}

{% block js %}
    {{ block.super }}
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&libraries=geometry"></script>
    <script type="text/javascript" src="/static/js/libs/google.map.js"></script>
    <script type="text/javascript" src="/static/js/google_maps/jumbotron.js"></script>

    {{ block.super }}

    <script type="text/javascript">
        window.twitterPopupText = "Here is a business that gives back to the community. Let's all click here and support them.";
        $('#mailto').attr('href',
                          'mailto:?subject={{ page.name }} on Spudder' +
                          "&body=Check out this awesome sponsor: {{ page.name }}! Here is a business that gives back to the community. Let's all click here and support them! " + url);

        {% if latitude and longitude %}
            $(document).ready(function () {
                initWithCoords(parseFloat("{{ latitude }}"), parseFloat("{{ longitude }}"))
            });
        {% endif %}
    </script>
{% endblock js %}
